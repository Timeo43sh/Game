<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Game Hub - Plateforme de Jeux</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>
    <!-- Overlay de connexion (visible seulement si non connecté) -->
    <div id="authContainer" class="auth-container">
        <div class="auth-box">
            <h2>Connectez-vous pour sauvegarder votre progression</h2>
            <p>Utilisez votre compte Google pour sauvegarder votre jeu en ligne et continuer sur n'importe quel appareil.</p>
            
            <!-- Bouton de connexion Google -->
            <div id="g_id_onload"
                 data-client_id="501175363576-8lcgi4qd45qh4n317csi3lkm5j3tsuf8.apps.googleusercontent.com"
                 data-context="signin"
                 data-ux_mode="popup"
                 data-callback="handleGoogleSignIn"
                 data-auto_prompt="false">
            </div>

            <div class="g_id_signin"
                 data-type="standard"
                 data-shape="pill"
                 data-theme="outline"
                 data-text="signin_with"
                 data-size="large"
                 data-logo_alignment="left">
            </div>
            
            <p style="margin-top: 1rem; font-size: 0.9rem;">
                <button id="playOffline" class="logout-btn">Jouer hors ligne</button>
            </p>
        </div>
    </div>

    <div class="container">
        <header>
            <div class="header-left">
                <button class="theme-toggle" id="themeToggle" title="Changer de thème">
                    <i class="fas fa-moon"></i>
                </button>
                <h1>Game Hub</h1>
            </div>
            <!-- Section profil utilisateur -->
            <div id="userProfile" class="user-profile">
                <img id="userAvatar" class="user-avatar" src="" alt="Avatar">
                <span id="userName" class="user-name">Non connecté</span>
                <button id="logoutBtn" class="logout-btn" style="display: none;">Déconnexion</button>
                <button id="premiumBtn" class="premium-btn" style="display: none;"><i class="fas fa-crown"></i> Premium</button>
                <button id="adminBtn" class="admin-btn" style="display: none;"><i class="fas fa-tools"></i> Admin</button>
            </div>
        </header>

        <!-- Navigation de la plateforme -->
        <nav class="platform-nav">
            <ul>
                <li><a href="#" class="active" onclick="showHub()"><i class="fas fa-home"></i>Accueil</a></li>
                <li><a href="#" data-game="banana-clicker"><i class="fas fa-hand-point-up"></i>Banana Clicker</a></li>
                <li><a href="#" data-game="snake"><i class="fas fa-dragon"></i>Snake</a></li>
                <li><a href="#" data-game="tetris"><i class="fas fa-th-large"></i>Tetris</a></li>
                <li><a href="#" data-game="memory"><i class="fas fa-brain"></i>Memory</a></li>
                <li><a href="#" data-game="flappy"><i class="fas fa-feather-alt"></i>Flappy Bird</a></li>
            </ul>
        </nav>

        <!-- Hub de jeux -->
        <div id="games-hub" class="games-hub">
            <h2>Nos Jeux</h2>
            <div class="games-grid">
                <div class="game-card">
                    <img src="images/banana-clicker.jpg" alt="Banana Clicker" onerror="this.src='https://via.placeholder.com/250x150/FFC107/FFFFFF?text=Banana+Clicker'">
                    <div class="game-card-content">
                        <h3>Banana Clicker</h3>
                        <p>Cliquez pour récolter des bananes et bâtir votre empire de la banane!</p>
                        <button class="btn" data-game="banana-clicker"><i class="fas fa-play"></i> Jouer</button>
                    </div>
                </div>
                <div class="game-card">
                    <img src="images/snake.jpg" alt="Snake" onerror="this.src='https://via.placeholder.com/250x150/4CAF50/FFFFFF?text=Snake'">
                    <div class="game-card-content">
                        <h3>Snake</h3>
                        <p>Le jeu classique du serpent qui grandit en mangeant des pommes.</p>
                        <button class="btn" data-game="snake"><i class="fas fa-play"></i> Jouer</button>
                    </div>
                </div>
                <div class="game-card">
                    <img src="images/tetris.jpg" alt="Tetris" onerror="this.src='https://via.placeholder.com/250x150/2196F3/FFFFFF?text=Tetris'">
                    <div class="game-card-content">
                        <h3>Tetris</h3>
                        <p>Empilez des blocs et complétez des lignes dans ce jeu légendaire.</p>
                        <button class="btn" data-game="tetris"><i class="fas fa-play"></i> Jouer</button>
                    </div>
                </div>
                <div class="game-card">
                    <img src="images/memory.jpg" alt="Memory" onerror="this.src='https://via.placeholder.com/250x150/9C27B0/FFFFFF?text=Memory'">
                    <div class="game-card-content">
                        <h3>Memory</h3>
                        <p>Testez votre mémoire en trouvant les paires de cartes identiques.</p>
                        <button class="btn" data-game="memory"><i class="fas fa-play"></i> Jouer</button>
                    </div>
                </div>
                <div class="game-card">
                    <img src="images/flappy.jpg" alt="Flappy Bird" onerror="this.src='https://via.placeholder.com/250x150/FF5722/FFFFFF?text=Flappy+Bird'">
                    <div class="game-card-content">
                        <h3>Flappy Bird</h3>
                        <p>Faites voler l'oiseau à travers les obstacles. Simple mais addictif!</p>
                        <button class="btn" data-game="flappy"><i class="fas fa-play"></i> Jouer</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Conteneur pour les jeux -->
        <div id="game-container" class="game-frame">
            <button class="back-to-hub" onclick="showHub()"><i class="fas fa-arrow-left"></i> Retour à l'accueil</button>
            
            <div id="banana-clicker" class="game-content">
                <!-- Contenu de Banana Clicker -->
                <div class="prestige-info">
                    <i class="fas fa-trophy"></i> <span id="prestige-counter">0</span>
                    <span class="golden"><i class="fas fa-star"></i> <span id="golden-bananas">0</span></span>
                </div>
        
                <div class="stats-grid">
                    <div class="stat-card">
                        <h2><i class="fas fa-apple-alt"></i> Bananes</h2>
                        <p id="counter">0</p>
                    </div>
                    <div class="stat-card">
                        <h2><i class="fas fa-bolt"></i> Bananes/Secondes</h2>
                        <p id="bananas-per-second">0</p>
                    </div>
                    <div class="stat-card">
                        <h2><i class="fas fa-hand-pointer"></i> Total Clics</h2>
                        <p id="total-clicks">0</p>
                    </div>
                    <div class="stat-card">
                        <h2><i class="fas fa-chart-line"></i> Multiplicateur</h2>
                        <p id="multiplier">1.00x</p>
                    </div>
                </div>
        
                <div id="banana-container">
                    <div id="banana" title="Cliquez pour gagner des bananes!" class="pulse"></div>
                </div>
        
                <div class="tab-container">
                    <div class="tab-buttons">
                        <button class="tab-btn active" data-tab="upgrades">
                            <i class="fas fa-arrow-up"></i> Améliorations
                        </button>
                        <button class="tab-btn" data-tab="achievements">
                            <i class="fas fa-trophy"></i> Succès
                        </button>
                        <button class="tab-btn" data-tab="prestige">
                            <i class="fas fa-redo"></i> Prestige
                        </button>
                    </div>
                    
                    <div id="upgrades" class="tab-content active">
                        <div id="production-upgrades"></div>
                    </div>
                            
                    <div id="achievements" class="tab-content">
                        <div id="achievements-container"></div>
                    </div>
                            
                    <div id="prestige" class="tab-content">
                        <div class="prestige-info-box">
                            <h3><i class="fas fa-info-circle"></i> Comment fonctionne le Prestige?</h3>
                            <p>Le Prestige vous permet de recommencer le jeu avec un multiplicateur permanent de production.</p>
                            <p>Vous devez atteindre <strong>1,000,000</strong> de bananes pour effectuer un Prestige.</p>
                            <p>Vous obtiendrez des bananes dorées qui amélioreront votre production.</p>
                        </div>
                        <button class="btn" id="prestige-btn">
                            <i class="fas fa-redo"></i> Prestige
                        </button>
                    </div>
                </div>
            </div>
                    
            <!-- Autres jeux à venir -->
            <div id="snake" class="game-content" style="display: none;">
                <h2>Snake</h2>
                <p>Le jeu Snake sera bientôt disponible !</p>
                <div class="game-placeholder" style="background: #4CAF50; height: 500px; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
                    <i class="fas fa-code"></i> En développement
                </div>
            </div>
                    
            <div id="tetris" class="game-content" style="display: none;">
                <h2>Tetris</h2>
                <p>Le jeu Tetris sera bientôt disponible !</p>
                <div class="game-placeholder" style="background: #2196F3; height: 500px; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
                    <i class="fas fa-code"></i> En développement
                </div>
            </div>
                            
            <div id="memory" class="game-content" style="display: none;">
                <h2>Memory</h2>
                <p>Le jeu Memory sera bientôt disponible !</p>
                <div class="game-placeholder" style="background: #9C27B0; height: 500px; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
                    <i class="fas fa-code"></i> En développement
                </div>
            </div>
                    
            <div id="flappy" class="game-content" style="display: none;">
                <h2>Flappy Bird</h2>
                <p>Le jeu Flappy Bird sera bientôt disponible !</p>
                <div class="game-placeholder" style="background: #FF5722; height: 500px; display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
                    <i class="fas fa-code"></i> En développement
                </div>
            </div>
        </div>
        
        <!-- Notification -->
        <div id="notification" class="notification">
            <i class="fas fa-check-circle"></i>
            <div class="notification-content">Message de notification</div>
        </div>
        
        <!-- Modals -->
        <div id="premiumModal" class="modal">
            <div class="modal-content">
                <button class="btn-close" id="closePremiumModal"><i class="fas fa-times"></i></button>
                <div class="modal-header">
                    <h3 class="modal-title"><i class="fas fa-crown"></i> Activer le mode Premium</h3>
                </div>
                <div class="modal-body">
                    <p>Entrez votre code premium pour activer les avantages exclusifs:</p>
                    <ul>
                        <li>Multiplicateur de production accru</li>
                        <li>Nouvelles améliorations exclusives</li>
                        <li>Thèmes et skins exclusifs</li>
                    </ul>
                    <div class="input-group" style="margin-top: 1rem;">
                        <input type="text" id="premiumCode" placeholder="Entrez votre code premium">
                    </div>
                </div>
                <div class="modal-footer">
                    <button class="btn-secondary" id="closePremiumBtn">Annuler</button>
                    <button class="btn" id="redeemCode">Activer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Sons -->
    <audio id="clickSound" src="https://assets.mixkit.co/sfx/preview/mixkit-arcade-game-jump-coin-216.mp3"></audio>
    <audio id="upgradeSound" src="https://assets.mixkit.co/sfx/preview/mixkit-unlock-game-notification-253.mp3"></audio>
    <audio id="achievementSound" src="https://assets.mixkit.co/sfx/preview/mixkit-achievement-bell-600.mp3"></audio>
    <audio id="prestigeSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3"></audio>
    <audio id="specialSound" src="https://assets.mixkit.co/sfx/preview/mixkit-extra-bonus-in-a-video-game-2045.mp3"></audio>

    <script>
        // Gestion du thème
        document.getElementById('themeToggle').addEventListener('click', function() {
            const body = document.body;
            const isDark = body.getAttribute('data-theme') === 'dark';
            
            if (isDark) {
                body.removeAttribute('data-theme');
                this.innerHTML = '<i class="fas fa-moon"></i>';
            } else {
                body.setAttribute('data-theme', 'dark');
                this.innerHTML = '<i class="fas fa-sun"></i>';
            }
        });
        
        // Fonction pour la navigation entre les jeux
        function showHub() {
            document.getElementById('games-hub').style.display = 'block';
            document.getElementById('game-container').classList.remove('active');
            
            // Mettre à jour la navigation
            const navLinks = document.querySelectorAll('.platform-nav a');
            navLinks.forEach(link => link.classList.remove('active'));
            navLinks[0].classList.add('active');
        }
        
        function loadGame(gameId) {
            // Masquer le hub
            document.getElementById('games-hub').style.display = 'none';
            document.getElementById('game-container').classList.add('active');
            
            // Masquer tous les jeux
            const gameContents = document.querySelectorAll('.game-content');
            gameContents.forEach(game => game.style.display = 'none');
            
            // Afficher le jeu sélectionné
            document.getElementById(gameId).style.display = 'block';
            
            // Mettre à jour la navigation
            const navLinks = document.querySelectorAll('.platform-nav a');
            navLinks.forEach(link => link.classList.remove('active'));
            
            // Trouver et activer le lien du jeu sélectionné
            navLinks.forEach(link => {
                if (link.getAttribute('data-game') === gameId) {
                    link.classList.add('active');
                }
            });
            
            // Initialiser le jeu si c'est Banana Clicker
            if (gameId === 'banana-clicker' && typeof window.loadBananaClicker === 'function') {
                window.loadBananaClicker();
            }
        }
        
        // Gestion des onglets dans Banana Clicker
        function openTab(tabId) {
            // Masquer tous les onglets
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Désactiver tous les boutons
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Activer l'onglet sélectionné
            document.getElementById(tabId).classList.add('active');
            
            // Activer le bouton correspondant
            document.querySelector(`.tab-btn[data-tab="${tabId}"]`).classList.add('active');
        }
        
        // Gestion du mode hors ligne
        function playOffline() {
            document.getElementById('authContainer').style.display = 'none';
            document.querySelector('.game-container').style.display = 'flex';
        }
        
        // Gestion des modals
        function closeModals() {
            document.querySelectorAll('.modal').forEach(modal => {
                modal.classList.remove('show');
            });
        }
        
        // Ajouter des écouteurs d'événements pour les onglets et la navigation
        document.addEventListener('DOMContentLoaded', function() {
            // Initialiser les onglets
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    openTab(this.dataset.tab);
                });
            });
            
            // Initialiser la navigation
            document.querySelectorAll('.platform-nav a').forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const gameId = this.getAttribute('data-game');
                    if (gameId) {
                        loadGame(gameId);
                    } else {
                        showHub();
                    }
                });
            });
            
            // Boutons de lancement de jeu dans les cartes
            document.querySelectorAll('.game-card .btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const gameId = this.getAttribute('data-game');
                    if (gameId) {
                        loadGame(gameId);
                    }
                });
            });
            
            // Gestion des modals
            document.querySelectorAll('.btn-close, .btn-secondary').forEach(btn => {
                btn.addEventListener('click', closeModals);
            });
            
            // Bouton jouer hors ligne
            document.getElementById('playOffline').addEventListener('click', playOffline);
            
            // Initialiser la plateforme
            showHub();
        });
    </script>
    <script src="game.js"></script>
</body>
</html>